---
layout: $/layouts/DocsLayout.astro
---

import RenderBlock from "$/components/RenderBlock.astro"
import Grab from "$/components/Grab.astro"

# Odometer

A Web Component that displays a numeric value with a smooth rolling animation â€” similar to a mechanical odometer or number counter.
Itâ€™s designed for use in badges, notifications, dashboards, or any place where numbers change dynamically.

```html use:RenderBlock
<bl-odometer></bl-odometer>

<div class="btn-group" role="group">
    <button
        class="btn blue-btn-soft-secondary"
        onclick="this.parentNode.previousElementSibling.value--"
        aria-label="Decrement"
    >
        âž–
    </button>
    <button
        class="btn blue-btn-soft-secondary"
        onclick="this.parentNode.previousElementSibling.value++"
        aria-label="Increment"
    >
        âž•
    </button>
</div>
```

## Styled as badge

```html use:RenderBlock
<button type="button" class="btn btn-outline-primary">
    <span aria-hidden="true">ðŸ””</span> Notifications
    <span class="badge bg-primary-subtle text-primary-emphasis">
        <bl-odometer value="2"></bl-odometer>
    </span>
</button>

<div class="btn-group" role="group">
    <button
        class="btn blue-btn-soft-secondary"
        onclick="this.parentNode.previousElementSibling.querySelector('bl-odometer').value--"
        aria-label="Decrement"
    >
        âž–
    </button>
    <button
        class="btn blue-btn-soft-secondary"
        onclick="this.parentNode.previousElementSibling.querySelector('bl-odometer').value++"
        aria-label="Increment"
    >
        âž•
    </button>
</div>
```

## Custom max number

```html use:RenderBlock
<bl-odometer value="89" max="99"></bl-odometer>

<div class="btn-group" role="group">
    <button
        class="btn blue-btn-soft-secondary"
        onclick="this.parentNode.previousElementSibling.value--"
        aria-label="Decrement"
    >
        âž–
    </button>
    <button
        class="btn blue-btn-soft-secondary"
        onclick="this.parentNode.previousElementSibling.value++"
        aria-label="Increment"
    >
        âž•
    </button>
</div>
```

## Style based on change

When the value changes, the element will get attribute `data-change="up"` or `data-change="down"` depending on if the number increased or decreased.
This allows you to add styling based on the new state. After 3 seconds the attribute will be reset.

```html use:RenderBlock
<span class="badge rounded-pill bg-body-tertiary text-body border">
    <style>
        @scope {
            :scope {
                transition:
                    background-color 0.3s,
                    color 0.4s;
            }

            :scope:has([data-change="up"]) {
                background-color: var(--bs-success-bg-subtle) !important;
                color: var(--bs-success-text-emphasis) !important;
                border-color: var(--bs-success-bg-subtle) !important;
            }

            :scope:has([data-change="down"]) {
                background-color: var(--bs-danger-bg-subtle) !important;
                color: var(--bs-danger-text-emphasis) !important;
                border-color: var(--bs-danger-bg-subtle) !important;
            }

            bl-odometer[data-change="up"]::after {
                content: "â†‘";
            }
            bl-odometer[data-change="down"]::after {
                content: "â†“";
            }
        }
    </style>

    <bl-odometer></bl-odometer>
</span>

<div class="btn-group" role="group">
    <button
        class="btn blue-btn-soft-secondary"
        onclick="this.parentNode.previousElementSibling.querySelector('bl-odometer').value--"
        aria-label="Decrement"
    >
        âž–
    </button>
    <button
        class="btn blue-btn-soft-secondary"
        onclick="this.parentNode.previousElementSibling.querySelector('bl-odometer').value++"
        aria-label="Increment"
    >
        âž•
    </button>
</div>
```

## Change transition duration

You can change the duration using CSS variable `--bl-odometer-duration`. Default value is `0.4s`. In this example it is set to `5s`:

```html use:RenderBlock
<bl-odometer style="--bl-odometer-duration: 5s"></bl-odometer>

<div class="btn-group" role="group">
    <button
        class="btn blue-btn-soft-secondary"
        onclick="this.parentNode.previousElementSibling.value--"
        aria-label="Decrement"
    >
        âž–
    </button>
    <button
        class="btn blue-btn-soft-secondary"
        onclick="this.parentNode.previousElementSibling.value++"
        aria-label="Increment"
    >
        âž•
    </button>
</div>
```

<Grab items={[{ src: "@/src/js/odometer.ts" }]} />
