---
import Layout from "./Layout.astro"
let currentPath = Astro.url.pathname.replace(import.meta.env.BASE_URL, "")

if (currentPath.endsWith("/")) {
    currentPath = currentPath.slice(0, -1)
}

const pathTitle = decodeURIComponent(currentPath.split("/")[1])

// Extract title from frontmatter props or use path-based title as fallback
const title = Astro.props.frontmatter.title || pathTitle
---

<Layout title={`${title} â€¢ Blue Web`}>
    <div class="container markdown-rendered">
        <slot />

        <div class="mb-3">
            <a
                href={`https://github.com/bruegmann/blue-web/edit/main/site/src/pages/${currentPath}.mdx`}
                class="link-secondary">Edit post on GitHub</a
            >
            <a
                href={`https://github.com/bruegmann/blue-web/edit/main/site/src/pages/${currentPath}.mdx`}
                class="link-secondary">See code on GitHub</a
            >
        </div>
    </div>
</Layout>
